#### 备份的内容

1. db mysql中的数据（存储在表中的数据）
2. 硬盘中的文件存储的数据（图片，视频，网盘文件等）

#### mysql备份

```sql
mysqldump -u root -h host -p dbname > backdb.sql
```

#### 文件备份

#### 文件备份

算法：

​	源文件夹-->备份文件夹

通过定时器，定时遍历需要备份的源文件夹，遍历源文件夹，如果备份文件夹中的对应文件夹不存在，直接复制，同时在备份文件对应文件夹创建隐藏文件，保存源文件的修改时间，如果已经存在，通过源文件夹的修改时间和备份文件夹对应的隐藏文件保存的修改时间对比，如果修改时间不同，继续遍历子目录，否则跳过。

当遍历到最底层的文件目录时，读取备份文件夹对应文件是否存在，不存在，直接复制，如果备份文件夹对应文件已经存在比较文件名，文件大小，文件Alder32 /crc32, 如果不相同，直接复制，如果相同再次验证sha1

优化点：

- 文件上传记录文件对应的文件夹，针对扫描
- 每次开机延时启动一个任务扫描，扫描完成后开启一个定时任务扫描，控制扫描结束和下次开启的重复复制问题，保证正在执行的扫描只有一个
